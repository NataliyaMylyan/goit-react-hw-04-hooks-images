(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,a){e.exports={ImageGalleryItem:"imageGalleryItem_ImageGalleryItem__2J6d9",ImageGalleryItemImage:"imageGalleryItem_ImageGalleryItemImage__2-rHp"}},16:function(e,t,a){e.exports={Overlay:"modal_Overlay__1oGyr",Modal:"modal_Modal__XPxL3"}},26:function(e,t,a){e.exports={ImageGallery:"imageGallery_ImageGallery__3y41b"}},28:function(e,t,a){e.exports={Loader:"loader_Loader__T60PF"}},29:function(e,t,a){e.exports={Button:"button_Button__Hax0N"}},30:function(e,t,a){e.exports={App:"app_App__30hcM",Searchbar:"app_Searchbar__3T4mc"}},36:function(e,t,a){},8:function(e,t,a){e.exports={Searchbar:"searchbar_Searchbar__2iFS-",SearchForm:"searchbar_SearchForm__154z_",SearchFormButton:"searchbar_SearchFormButton__1CDZR",SearchFormButtonLabel:"searchbar_SearchFormButtonLabel__2YyHg",SearchFormInput:"searchbar_SearchFormInput__1GM8x"}},80:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(5),o=a.n(c),s=(a(36),a(6)),u=a.n(s),i=a(17),l=a(12),m=a(4),b=a(13),h=(a(38),a(31)),j=a(8),p=a.n(j),d=a(1),f=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(m.a)(a,2),c=n[0],o=n[1];return Object(d.jsx)("header",{className:p.a.Searchbar,children:Object(d.jsxs)("form",{className:p.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):Object(b.b)("Enter your query!")},children:[Object(d.jsx)("button",{type:"submit",className:p.a.SearchFormButton,children:Object(d.jsx)(h.a,{})}),Object(d.jsx)("input",{className:p.a.SearchFormInput,type:"text",autoComplete:"off",value:c,autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value.toLowerCase())}})]})})},g=a(40);g.defaults.baseURL="https://pixabay.com/api/";var O="23855124-9744a76c55c8d410f772c2e55";function _(){return(_=Object(l.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/?q=".concat(t,"&page=").concat(a,"&key=").concat(O,"&image_type=photo&orientation=horizontal&per_page=").concat(12));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("No results found for ".concat(t));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var x={fetchImages:function(e,t){return _.apply(this,arguments)}},y=x,v=a(15),S=a.n(v);var I=function(e){var t=e.image,a=t.id,r=t.webformatURL,n=t.largeImageURL,c=t.tags,o=e.onClick;return Object(d.jsx)("li",{className:S.a.ImageGalleryItem,onClick:o,children:Object(d.jsx)("img",{className:S.a.ImageGalleryItemImage,id:a,src:r,alt:c,"data-source":n})})},k=a(26),w=a.n(k);var F=function(e){var t=e.gallery,a=e.onClick;return Object(d.jsx)("ul",{className:w.a.ImageGallery,children:t.map((function(e){return Object(d.jsx)(I,{image:e,onClick:a},e.id)}))})},G=(a(59),a(27)),C=a.n(G),N=a(28),L=a.n(N),B=function(){return Object(d.jsx)(C.a,{className:L.a.Loader,type:"Grid",color:"#00BFFF",height:80,width:80})},E=a(29),M=a.n(E),R=function(e){var t=e.onClick;return Object(d.jsx)("button",{type:"button",onClick:t,className:M.a.Button,children:"Load more"})},H=a(16),T=a.n(H),U=document.querySelector("#modal-root"),q=function(e){var t=e.onClose,a=e.children;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(d.jsx)("div",{className:T.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:T.a.Modal,children:a})}),U)},J=a(30),P=a.n(J),z=function(){var e=Object(r.useState)(1),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),o=Object(m.a)(c,2),s=o[0],h=o[1],j=Object(r.useState)(""),p=Object(m.a)(j,2),g=p[0],O=p[1],_=Object(r.useState)(!1),x=Object(m.a)(_,2),v=x[0],S=x[1],I=Object(r.useState)(!1),k=Object(m.a)(I,2),w=k[0],G=k[1],C=Object(r.useState)(""),N=Object(m.a)(C,2),L=N[0],E=N[1];Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.fetchImages(g,a);case 3:t=e.sent,h((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t.hits))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.prev=11,S(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}g&&(S(!0),function(){e.apply(this,arguments)}())}),[g,a]);return Object(d.jsxs)("div",{className:P.a.container,children:[Object(d.jsx)(f,{onSubmit:function(e){h([]),O(e),n(1)}}),Object(d.jsx)(F,{gallery:s,onClick:function(e){"IMG"===e.target.nodeName&&(G(!0),E(e.target.dataset.source))}}),w&&Object(d.jsx)(q,{onClose:function(){G(!1),E("")},largeImageURL:L,children:Object(d.jsx)("img",{src:L,alt:s.tags})}),v&&Object(d.jsx)(B,{}),s.length>0&&!v&&Object(d.jsx)(R,{onClick:function(){n((function(e){return e+1}))}}),Object(d.jsx)(b.a,{})]})};o.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(z,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.a3a9c748.chunk.js.map