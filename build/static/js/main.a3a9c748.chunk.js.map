{"version":3,"sources":["components/ImageGalleryItem/imageGalleryItem.module.css","components/Modal/modal.module.css","components/ImageGallery/imageGallery.module.css","components/Loader/loader.module.css","components/Button/button.module.css","components/App/app.module.css","components/Searchbar/searchbar.module.css","components/Searchbar/Searchbar.jsx","api/api.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","s","SearchForm","event","preventDefault","trim","toast","type","SearchFormButton","SearchFormInput","autoComplete","value","autoFocus","placeholder","onChange","target","toLowerCase","axios","require","defaults","baseURL","API_KEY","currentPage","a","get","response","data","console","log","api","fetchImages","ImageGalleryItem","image","id","webformatURL","largeImageURL","tags","onClick","ImageGalleryItemImage","src","alt","ImageGallery","gallery","map","item","applyLoader","Loader","color","height","width","Button","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","currentTarget","App","setCurrentPage","setGallery","loading","setLoading","showModal","setShowModal","largeImageUrl","setLargeImageUrl","res","prevGallery","hits","scrollTo","top","documentElement","scrollHeight","behavior","error","fetchImagesGallery","container","query","nodeName","dataset","source","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a3a9c748.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__2J6d9\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__2-rHp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1oGyr\",\"Modal\":\"modal_Modal__XPxL3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__3y41b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"loader_Loader__T60PF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__Hax0N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"app_App__30hcM\",\"Searchbar\":\"app_Searchbar__3T4mc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__2iFS-\",\"SearchForm\":\"searchbar_SearchForm__154z_\",\"SearchFormButton\":\"searchbar_SearchFormButton__1CDZR\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__2YyHg\",\"SearchFormInput\":\"searchbar_SearchFormInput__1GM8x\"};","import { useState } from \"react\";\nimport { ImSearch } from \"react-icons/im\";\nimport { toast } from \"react-toastify\";\nimport PropTypes from \"prop-types\";\nimport s from \"./searchbar.module.css\";\n\nconst Searchbar = ({ onSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const handleChange = (event) => {\n    setSearchQuery(event.target.value.toLowerCase());\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (searchQuery.trim() === \"\") {\n      toast(\"Enter your query!\");\n      return;\n    }\n    onSubmit(searchQuery);\n    setSearchQuery(\"\");\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <ImSearch />\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          value={searchQuery}\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","const axios = require(\"axios\");\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\nconst API_KEY = \"23855124-9744a76c55c8d410f772c2e55\";\nconst pageQuantity = 12;\n\nasync function fetchImages(searchQuery, currentPage) {\n  try {\n    const response = await axios.get(\n      `/?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${pageQuantity}`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(`No results found for ${searchQuery}`);\n  }\n}\n\nconst api = { fetchImages };\n\nexport default api;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./imageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({\n  image: { id, webformatURL, largeImageURL, tags },\n  onClick,\n}) {\n  return (\n    <li className={s.ImageGalleryItem} onClick={onClick}>\n      <img\n        className={s.ImageGalleryItemImage}\n        id={id}\n        src={webformatURL}\n        alt={tags}\n        data-source={largeImageURL}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem.jsx\";\nimport s from \"./imageGallery.module.css\";\n\nfunction ImageGallery({ gallery, onClick }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {gallery.map((item) => (\n        <ImageGalleryItem key={item.id} image={item} onClick={onClick} />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  gallery: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport s from \"./loader.module.css\";\n\nconst applyLoader = () => (\n  <Loader\n    className={s.Loader}\n    type=\"Grid\"\n    color=\"#00BFFF\"\n    height={80}\n    width={80}\n  />\n);\n\nexport default applyLoader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./button.module.css\";\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" onClick={onClick} className={s.Button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nconst Modal = ({ onClose, children }) => {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  });\n\n  const handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) onClose();\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n};\n\nexport default Modal;\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Searchbar from \"../Searchbar/Searchbar.jsx\";\nimport api from \"../../api/api.js\";\nimport ImageGallery from \"../ImageGallery/ImageGallery.jsx\";\nimport Loader from \"../Loader/Loader.jsx\";\nimport Button from \"../Button/Button.jsx\";\nimport Modal from \"../Modal/Modal.jsx\";\nimport s from \"./app.module.css\";\n\nconst App = () => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [gallery, setGallery] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageUrl, setLargeImageUrl] = useState(\"\");\n\n  useEffect(() => {\n    if (!searchQuery) return;\n    setLoading(true);\n    async function fetchImagesGallery() {\n      try {\n        const res = await api.fetchImages(searchQuery, currentPage);\n        setGallery((prevGallery) => [...prevGallery, ...res.hits]);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchImagesGallery();\n  }, [searchQuery, currentPage]);\n\n  const handleQueryChange = (query) => {\n    setGallery([]);\n    setSearchQuery(query);\n    setCurrentPage(1);\n  };\n\n  const loadMoreBtnClick = () => {\n    setCurrentPage((s) => s + 1);\n  };\n\n  const openModal = (event) => {\n    if (event.target.nodeName === \"IMG\") {\n      setShowModal(true);\n      setLargeImageUrl(event.target.dataset.source);\n    }\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setLargeImageUrl(\"\");\n  };\n\n  return (\n    <div className={s.container}>\n      <Searchbar onSubmit={handleQueryChange} />\n      <ImageGallery gallery={gallery} onClick={openModal} />\n      {showModal && (\n        <Modal onClose={closeModal} largeImageURL={largeImageUrl}>\n          <img src={largeImageUrl} alt={gallery.tags} />\n        </Modal>\n      )}\n      {loading && <Loader />}\n      {gallery.length > 0 && !loading && <Button onClick={loadMoreBtnClick} />}\n      <ToastContainer />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}